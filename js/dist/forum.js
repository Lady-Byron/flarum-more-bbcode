(()=>{var o={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return o.d(r,{a:r}),r},d:(t,r)=>{for(var e in r)o.o(r,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},t={};(()=>{"use strict";o.r(t);const r=flarum.core.compat["common/extend"],e=flarum.core.compat["common/app"];var n=o.n(e);const c=flarum.core.compat["forum/components/CommentPost"];var a=o.n(c);const s=flarum.core.compat["forum/components/DiscussionPage"];var l=o.n(s);const i=flarum.core.compat["forum/utils/DiscussionControls"];var u=o.n(i);const p=flarum.core.compat["forum/components/LogInModal"];var d=o.n(p);const f=flarum.core.compat["common/components/TextEditor"];var y=o.n(f);const b=flarum.core.compat["common/components/TextEditorButton"];var g=o.n(b);n().initializers.add("xypp/more-bbcode",(function(){(0,r.extend)(y().prototype,"toolbarItems",(function(o){var t=this;o.add("reply-to-see",m(g(),{onclick:function(){t.attrs.composer.editor.insertAtCursor("[reply][/reply]");var o=t.attrs.composer.editor.getSelectionRange();t.attrs.composer.editor.moveCursorTo(o[1]-8)},icon:"fa fa-comment-medical"},n().translator.trans("xypp-more-bbcode.forum.button_tooltip_reply"))),o.add("login-to-see",m(g(),{onclick:function(){t.attrs.composer.editor.insertAtCursor("[login][/login]");var o=t.attrs.composer.editor.getSelectionRange();t.attrs.composer.editor.moveCursorTo(o[1]-8)},icon:"fas fa-sign-in-alt"},n().translator.trans("xypp-more-bbcode.forum.button_tooltip_login"))),o.add("imeepo-cloud",m(g(),{onclick:function(){t.attrs.composer.editor.insertAtCursor("[cloud type=other title="+n().translator.trans("xypp-more-bbcode.forum.cloud_title")+" url="+n().translator.trans("xypp-more-bbcode.forum.cloud_url")+"]"+n().translator.trans("xypp-more-bbcode.forum.cloud_password")+"[/cloud]");var o=t.attrs.composer.editor.getSelectionRange();t.attrs.composer.editor.moveCursorTo(o[1]-8)},icon:"fas fa-download"},n().translator.trans("xypp-more-bbcode.forum.button_tooltip_cloud")))})),(0,r.extend)(a().prototype,"content",(function(){n().session.user&&n().current.matches(l())?$(".reply2see_reply").off("click").on("click",(function(){return u().replyAction.call(n().current.get("discussion"),!0,!1)})):($(".reply2see_reply").off("click").on("click",(function(){return n().modal.show(d())})),$(".login2see_login").off("click").on("click",(function(){return n().modal.show(d())})))}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map